(function(e){function a(a,b){return a.pageX>b.offset().left&&a.pageX<b.offset().left+b.width()&&a.pageY>b.offset().top&&a.pageY<b.offset().top+b.height()?!0:!1}function c(a,b,c){this.O=b;this.cells=c;this.nCells=c.length;this.html="";this.lastColumnRows=99999;this.lastColumnDirection=-1;this.interval=this.fluidWidth=!1;this.columns=[];this.root=a;this.wrap=0}function b(a,b,c,d){this.O=d;this.parent=a;this.cells=b;this.nCells=this.cells.length;this.index=c;this.html="";this.top=this.left=this.height=
this.width=0;this.heights=[];this.positions=[];this.rows=0;this.direction=-this.parent.lastColumnDirection;this.position=1==this.direction?0:this.nCells-this.rows-1;this.animated=!1;this.root=0;this.parent.lastColumnDirection=this.direction}function d(a,b,c,d){this.O=d;this.parent=a;this.content=b;this.html="";this.width=this.O.width/this.O.cols;this.height=c;this.root=0}var f=[],g;(function(){var a=document.createElement("div");vendors=["Khtml","Ms","O","Moz","Webkit"];len=vendors.length;return function(b){if(b in
a.style)return!0;for(b=b.replace(/^[a-z]/,function(a){return a.toUpperCase()});len--;)if(vendors[len]+b in a.style)return!0;return!1}})()("transform");c.prototype.init=function(){this.O.height+=this.O.padding;this.height=this.O.height;if(void 0==this.O.width){this.root.wrapInner('<div id="dg-temp"></div>');var a=e("#dg-temp");this.O.width=a.width();this.width=this.O.width;this.fluidWidth=!0;a.remove()}this.add_columns();this.put_html();this.link_elements();this.set_styles();this.init_animations();
this.mouse_events();this.touch_events();this.window_events()};c.prototype.add_columns=function(){for(var a=[],c=0;c<this.O.cols;c++)a[c]=[];for(var d=0,c=0;c<this.nCells;c++)a[d].push(this.cells[c]),d=d==this.O.cols-1?0:d+1;for(c=0;c<this.O.cols;c++)this.columns[c]=new b(this,a[c],c,this.O),this.columns[c].init()};c.prototype.put_html=function(){var a;a='<div class="dg-wrap">\t<div class="dg-wrap-inner">';for(var b=0;b<this.O.cols;b++)a+=this.columns[b].html;this.root.html(a+"\t</div></div>")};c.prototype.link_elements=
function(){var a=0,b=0,c=this;this.wrap=this.root.find(".dg-wrap");this.inner=this.wrap.find(".dg-wrap-inner");this.root.find(".dg-column-wrap").each(function(){c.columns[a].root=e(this);b=0;e(this).find(".dg-cell-wrap").each(function(){c.columns[a].cells[b].root=e(this);c.columns[a].cells[b].img=e(this).find("img");b++});a++})};c.prototype.set_styles=function(){this.wrap.css({width:this.O.width,height:this.O.height-this.O.padding});this.inner.css({height:this.O.height});for(var a=0;a<this.O.cols;a++)this.columns[a].set_styles()};
c.prototype.init_animations=function(){for(var a=0;a<this.O.cols;a++)this.columns[a].init_animation();this.start()};c.prototype.start=function(){!1!=this.interval&&clearInterval(this.interval);var a=0,b=this;this.interval=setInterval(function(){if(1<b.O.cols){a++;for(a==b.O.cols&&(a=0);!b.columns[a].animated;)a++,a==b.O.cols&&(a=0)}b.columns[a].advance()},this.O.interval)};c.prototype.pause=function(){clearInterval(this.interval)};c.prototype.mouse_events=function(){var b=this;this.inner.on("mouseover",
function(c){a(c,b.inner)&&!b.paused&&(b.paused=!0,b.pause())});this.inner.on("mouseout",function(c){!a(c,b.inner)&&b.paused&&(b.paused=!1,b.start())})};c.prototype.touch_events=function(){};c.prototype.window_events=function(){var a=this;e(window).on("resize",function(){a.fluidWidth&&(a.O.width=a.root.width());a.set_styles()})};b.prototype.init=function(){this.set_heights();this.set_positions();this.set_cells();this.set_html()};b.prototype.set_heights=function(){var a=[];this.rows=Math.round(Math.random()*
(this.O.max_rows-this.O.min_rows)+this.O.min_rows);if(this.rows==this.parent.lastColumnRows&&this.O.min_rows!=this.O.max_rows)for(;this.rows==this.parent.lastColumnRows;)this.rows=Math.round(Math.random()*(this.O.max_rows-this.O.min_rows)+this.O.min_rows);this.parent.lastColumnRows=this.rows;this.nCells<this.rows&&(this.rows=this.nCells);for(var b=0;b<this.rows;b++)a[b]=Math.ceil(this.parent.height/this.rows);if(this.O.random_heights&&1<this.rows){for(var c=0,d=0,b=0;b<this.rows;b++)a[b]=50,c++,d+=
50;for(;d<this.O.height;)a[Math.round(Math.random()*(this.rows-1-0)+0)]+=10,c++,d+=10;d>this.O.height&&(a[this.rows-1]-=d-this.O.height)}for(b=c=0;b<this.nCells;b++)this.heights[b]=a[c],c=c==this.rows-1?0:c+1};b.prototype.set_positions=function(){this.positions[0]=0;this.positions[1]=this.heights[0];for(var a=1;a<this.nCells;a++)this.positions[a+1]=this.positions[a]+this.heights[a]};b.prototype.set_cells=function(){for(var a=[],b=0;b<this.nCells;b++)a[b]=new d(this,this.cells[b].content,this.heights[b],
this.O),a[b].init();this.cells=a};b.prototype.set_html=function(){this.html="";this.html+='<div class="dg-column-wrap">';for(var a=0;a<this.nCells;a++)this.html+=this.cells[a].html;this.html+="</div>"};b.prototype.set_styles=function(){for(var a=0;a<this.nCells;a++)this.cells[a].set_styles();this.width=Math.round((this.O.width-this.O.padding*(this.O.cols-1))/this.O.cols);this.left=this.index*this.width+this.O.padding*this.index;this.height=this.root.height();this.top=1==this.direction?0:-(this.height-
this.O.height);this.root.css({width:this.width,left:this.left,top:this.top})};b.prototype.init_animation=function(){this.nCells<=this.rows||(this.animated=!0,this.position=1==this.direction?0:this.nCells-this.rows,-1==this.direction&&(this.position=this.nCells-this.rows,this.root.css({top:-this.positions[this.position]})))};b.prototype.advance=function(){if(this.animated&&(this.position=1==this.direction?this.position+1:this.position-1,this.root.animate({top:-this.positions[this.position]},{duration:this.O.speed,
easing:this.O.easing}),this.position>this.nCells-this.rows-1||0>=this.position))this.direction=-this.direction};d.prototype.init=function(){this.html=this.get_html()};d.prototype.get_html=function(){var a;a='<div class="dg-cell-wrap">\t<div class="dg-add-content-wrap">'+this.get_additional_content();a=a+'\t</div>\t<div class="dg-main-content-inner-wrap">'+this.get_main_content();return a+"\t</div></div>"};d.prototype.set_styles=function(){this.root.css({height:this.height});this.root.find(".dg-main-content-inner-wrap").css({height:this.height-
this.O.padding,"margin-bottom":this.O.padding});this.imgWidth=this.root.find("img").width();this.imgHeight=this.root.find("img").height();this.init_content()};d.prototype.get_main_content=function(){return""};d.prototype.get_additional_content=function(){return""};d.prototype.init_content=function(){};d.prototype.get_main_content=function(){return this.content};d.prototype.get_additional_content=function(){};d.prototype.init_content=function(){};e.fn.dynamicGrid=function(a){O=e.extend(!0,{src:void 0,
width:void 0,height:400,cols:3,min_rows:2,max_rows:3,random_heights:!0,padding:1,interval:2E3,speed:250,easing:""},a);return this.each(function(){var a=e(this);void 0==O.src&&(O.src=a);var b=0;O.src.find(".dg-cell").each(function(){f[b]=e(this);f[b].content=e(this).html();b++});g=new c(a,O,f);g.init()})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c},easeInCubic:function(e,a,c,b,d){return b*(a/=d)*a*a+c},easeOutCubic:function(e,a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOutCubic:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a+c:
b/2*((a-=2)*a*a+2)+c},easeInQuart:function(e,a,c,b,d){return b*(a/=d)*a*a*a+c},easeOutQuart:function(e,a,c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOutQuart:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(e,a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOutQuint:function(e,a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOutQuint:function(e,a,c,b,d){return 1>(a/=d/2)?b/2*a*a*a*a*a+c:b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(e,a,c,b,d){return-b*Math.cos(a/
d*(Math.PI/2))+b+c},easeOutSine:function(e,a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOutSine:function(e,a,c,b,d){return-b/2*(Math.cos(Math.PI*a/d)-1)+c},easeInExpo:function(e,a,c,b,d){return 0==a?c:b*Math.pow(2,10*(a/d-1))+c},easeOutExpo:function(e,a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOutExpo:function(e,a,c,b,d){return 0==a?c:a==d?c+b:1>(a/=d/2)?b/2*Math.pow(2,10*(a-1))+c:b/2*(-Math.pow(2,-10*--a)+2)+c},easeInCirc:function(e,a,c,b,d){return-b*(Math.sqrt(1-(a/=d)*
a)-1)+c},easeOutCirc:function(e,a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOutCirc:function(e,a,c,b,d){return 1>(a/=d/2)?-b/2*(Math.sqrt(1-a*a)-1)+c:b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(1==(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f))+c},easeOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(1==
(a/=d))return c+b;f||(f=0.3*d);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return g*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInOutElastic:function(e,a,c,b,d){var e=1.70158,f=0,g=b;if(0==a)return c;if(2==(a/=d/2))return c+b;f||(f=d*0.3*1.5);g<Math.abs(b)?(g=b,e=f/4):e=f/(2*Math.PI)*Math.asin(b/g);return 1>a?-0.5*g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+c:0.5*g*Math.pow(2,-10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInBack:function(e,a,c,b,d,f){void 0==
f&&(f=1.70158);return b*(a/=d)*a*((f+1)*a-f)+c},easeOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return b*((a=a/d-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(e,a,c,b,d,f){void 0==f&&(f=1.70158);return 1>(a/=d/2)?b/2*a*a*(((f*=1.525)+1)*a-f)+c:b/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+c},easeInBounce:function(e,a,c,b,d){return b-jQuery.easing.easeOutBounce(e,d-a,0,b,d)+c},easeOutBounce:function(e,a,c,b,d){return(a/=d)<1/2.75?b*7.5625*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?
b*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(e,a,c,b,d){return a<d/2?0.5*jQuery.easing.easeInBounce(e,2*a,0,b,d)+c:0.5*jQuery.easing.easeOutBounce(e,2*a-d,0,b,d)+0.5*b+c}});

// scale images
jQuery(window).load(function(){
    $ = jQuery;
    $('.dg-main-content-inner-wrap img').each(function(){
        var container_width  = $(this).parent().width();
        var container_height = $(this).parent().height();
        var image_width  = $(this).width();
        var image_height = $(this).height();
        
        var ratio_width = container_width / image_width;
        var ratio_height = container_height / image_height;
        
        var diff_width = image_width * ratio_width - container_width;
        var diff_height = image_height * ratio_height - container_height;
        
        if ( diff_width == 0 ) {
            // cambia altezza
        } else if ( diff_height == 0 ) {
            // cambia larghezza
        }
    });
});